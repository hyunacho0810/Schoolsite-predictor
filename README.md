# 폐교 부지 활용 최적 문화시설 예측
저출산으로 인한 폐교 증가 문제와 지역 문화 격차 해소를 위한 데이터 분석 프로젝트  
<br>

## 🏫프로젝트 소개
폐교를 문화시설로 활용하자! 이중 어느 문화시설이 가장 적합할까? 해당 폐교 지역의 다양한 특성을 분석하여 최적 문화시설을 예측하자  
<br>

## 👥 팀원 (Team Members)
6명의 팀원이 6개월간 진행하였습니다.  
맡은 역할:데이터 전처리, 하이퍼파라미터 최적화, 머신러닝, AutoML, 파이프라인 튜닝
<br>

## 💻 Tech Stack
### Language
- Python
  <br>


## 📊 Data Analysis
- 지역별 인구 통계 분석
- 주변 문화시설 분포 조사
- 접근성 및 교통 분석
- 지역 경제지표 분석
<br>

## 🏛️ 문화시설 유형
- 도서시설 (도서관/작은도서관)
- 전시시설 (박물관/문학관/미술관)
- 공연시설 (문예회관/공연장)
- 지역문화활동시설 (지방문화원/문화의집/생활문화센터)
<br>

## 💻 분석 절차
1. **데이터 수집**
   - 인구통계: 통계지리정보서비스(SGIS) - 성별/연령별 인구수
   - 접근성: 문화 빅데이터 플랫폼 - 대중교통 정류장 정보
   - 시설 정보: 문화체육관광부, 지방교육재정알리미, 공연예술통합전산망
   - 경제지표: 통계청, 소상공인시장진흥공단 - 매출액, 사업체 수, 상권 정보

2. **데이터 전처리**
   - 지오 코딩: Google Map API로 위치 좌표 이용 거리 계산
   - 데이터 재가공: 공간 분석 반경 적용, 나이 인구수 그룹핑
   - 결측치 처리: KNN Imputer
   - 오버샘플링: SMOTE, ADASYN, Resampling
   - 변환: Log Transformation, Yeo-Johnson Transformation
   - 스케일링: StandardScaler, MinMaxScaler, RobustScaler

3. **문화시설 공간분석 반경**
   - 문화시설 유형별 영향권역(이용반경) 차이 적용:
     - 전시시설, 공연시설: 5km
     - 도서시설: 2km
     - 지역문화활동시설: 1km
     - 대중교통: 450m

4. **모델링**
   - AUTO ML 활용 (TPOT, PYCARET)
   - 최종 모델: Random Forest Regressor와 KNeighborsRegressor의 Stacking 앙상블 (R² = 0.7054)
<br>

  
## 📊 머신러닝 모델 성능 비교 
| MODEL | R² |
|-------|-----|
| Extreme Gradient Boosting | 0.6045 |
| Random Forest Regressor | 0.6232 |
| Extra Trees Regressor | 0.6422 |
| Extra Trees Regressor, Random Forest Regressor, Extreme Gradient Boosting (Blending) | 0.6473 |
| Extra Trees Regressor, Random Forest Regressor, CatBoost Regressor (Stacking) | 0.6516 |
| **Random Forest Regressor, KNeighborsRegressor (Stacking)** | **0.7054** |  
<br>


## 📝 모델 설명 
- 다양한 지역 특성을 기반으로 한 머신러닝 모델
- Random Forest Regressor, KNeighborsRegressor 등의 앙상블 기법 활용
- 최적 문화시설 유형 예측
<br>


## 🔍 분석 결과 
현재 문화시설로 활용 중인 폐교 20곳에 대한 예측 수행 결과

- 🔴 빨간색: 우리 모델이 예측한 최적 문화시설과 실제로 사용되고 있는 문화시설이 일치
- 🔵 파란색: 우리 모델이 2순위로 예측한 문화시설과 실제로 사용되고 있는 문화시설이 일치 

| 울산 삼광분교 |  | 대전 진잠초 방성분교 |  | 부산 덕도초 |  | 경기 고산초 |  |
|------------|------------|------------|------------|------------|------------|------------|------------|
| Type | Predicted user | Type | Predicted user | Type | Predicted user | Type | Predicted user |
| **도서시설** | **🔴8854.59** | 도서시설 | 9517.47 | **도서시설** | **🔴 11565.62** | **도서시설** | **🔴 20082.77** |
| 전시시설 | 7045.82 | **전시시설** | **🔵 12414.46** | 전시시설 | 9027.46 | 전시시설 | 11421.47 |
| 공연시설 | 4525.99 | 공연시설 | 10181.69 | 공연시설 | 9913.48 | 공연시설 | 9273.38 |
| 지역문화활동시설 | 2318.01 | 지역문화활동시설 | 2355.06 | 지역문화활동시설 | 1981.78 | 지역문화활동시설 | 2434.46 |


전체 20개 시설 중 1순위로 예측된 시설 10개, 2순위까지 예측된 시설 18개로 모델의 성능이 높게 나온 것을 확인할 수 있음   
<br>

## 울산 미호분교 예측 결과
인구 백만 명당 문화시설 수가 적은 지역인 울산에서 아직 활용되지 않는 폐교인 미호분교에 대한 분석 수행 
| Type | Predicted_user |
|------|---------------|
| 도서시설 | 4376.519 |
| 전시시설 | 3872.016 |
| 공연시설 | 2893.766 |
| 지역문화활동시설 | 1965.816 |

예측 이용자수가 가장 많은 **도서시설**이 가장 적합한 것으로 예측되었음.  
<br>

## 📈 변수 중요도
| 변수 | 중요도 | 변수 | 중요도 |
|------|-------|------|-------|
| type | 0.6654 | total | 0.1338 |
| size | 0.3763 | transit | 0.1302 |
| influence | 0.1612 | young | 0.1297 |
| old | 0.1371 | medium | 0.1250 |
| baby | 0.1363 | woman | 0.1248 |
| store | 0.1350 | man | 0.1246 |
| city | 0.1339 | | |

변수 중요도: 시설종류 > 시설면적 > 경쟁시설 변수 > 노년인구 > 유아인구 > 상권

나이대 별 문화시설 이용자 수에 대한 영향: old > baby > young > medium  
<br>

## 💡 Insight 및 활용방안
1. **2024 문화체육관광부 주요 정책 과제 해결 방안 제시**
   - 지역 문화 자생력 키우기, 문화소외지역 구제 및 지역간 문화격차 해결
   - 문화시설 설립으로 지역애착도 향상, 지역주민의 정체성 형성, 사회적 교류 증진, 지역 활성화 기대

2. **지속 가능한 환경 조성에 기여**
   - 폐교 활용을 통해 도시 재생에도 도움
   - 폐교부지의 증가 지역은 저출산, 고령화로 노년층 인구 비율 높음
   - 노년층이 문화시설 이용에 중요한 영향을 미치는 점을 고려한 최적 문화시설 예측

3. **문화시설 수요조사 방안 제시**
   - 기존 문화시설 수요조사의 한계(지역별 인구규모, 유사시설 가동률, 주관적 가치판단)를 보완
   - 나이대별 인구분포, 지역별 인구분포를 반영한 수요조사 방안 제안
<br>


## 느낀점
이번 프로젝트를 통해 최적의 성능을 얻기 위해서는 단순히 좋은 모델을 선택하는 것만으로는 부족하며, 데이터 전처리 방식의 조합, 변수 선택 등의 다양한 요소들을 유기적으로 고려해야 함을 깨달았습니다.
특히, AutoML 도구인 TPOT을 활용해 생성된 파이프라인을 기반으로 하이퍼파라미터를 직접 튜닝하면서 성능을 더욱 개선할 수 있었고, 이 과정에서 모델 구조 자체를 바꾸기보다는 변수 값이나 전처리 방식을 조절하는 것이 성능 향상에 더 효과적일 수 있다는 점을 배웠습니다.

약 4개월간 팀원들과 프로젝트를 진행하면서 머신러닝에 대한 깊은 흥미를 느꼈고, 우리가 직접 수집하고 가공한 데이터를 기반으로 예측과 분류를 수행하는 전 과정이 매우 흥미로웠습니다. 특히 한 번 학습된 모델이 이후 다양한 상황에서 예측을 자동으로 수행해줄 수 있다는 점에서 머신러닝의 실용성과 잠재력을 체감할 수 있었습니다.

가장 어려웠던 순간은 모델의 성능이 계속해서 0.5대에 머물렀을 때였습니다. 이 문제를 해결하기 위해 수업 시간에 배운 다양한 모델을 시도해보았고, 오버샘플링 등의 전처리 기법도 적용해보았지만 큰 개선이 없었습니다. 이에 교수님께 자문을 구해 AutoML을 적용한 결과, 성능이 0.7 이상으로 크게 향상되어 프로젝트를 성공적으로 마무리할 수 있었습니다.

또한, 팀원들과 밤새면서 많은 조합을 시도해보고 고민을 한 결과가 좋게나와 너무 만족했고, 추가적으로 현재 문화시설로 사용되고 있는 부지에 예측을 해보았을때 매우 정확한 결과가 나와서 우리의 노력이 헛되지 않음을 느꼈을때 뿌듯하였습니다. 서로가 가진 정보를 통해 다양한 방법을 적용해보았고, 각자 잘하는 부분을 설명해가면서 진행해 모두 성장한 프로젝트였습니다. 

추후에, 프로젝트를 더욱 진행하게 된다면, 해당 머신러닝을 기반으로 웹사이트를 만들고, Django, vue등을 이용해 프런트엔드 및 서버 부분도 구축을 해 더욱 실질적인 서비스를 제공해보고 싶습니다. 해당 서비스는 일반인이 사용하는 것이 아닌, 지자체 입장에서 부지를 활용하려고 할때 도움을 주는 사이트로 사용되었으면 좋겠습니다. 
